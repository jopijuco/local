{% extends "base_layout.html" %}
{% from "macros.html" import form_action %}

{% block title %}
    form
{% endblock %}

{% block tabs %}
    <ul class="navbar-nav ml-auto mt-2">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Log Out</a></li>
    </ul>
{% endblock %}

{% block main %}
    
    <h3>Welcome {{ username }},</h3>
    <h5>Please submit your info so you can start {{ message }} products!</h5>
    
    {% if session["type"] == "business" %}

        {{ form_action( url_for('form'), "POST") }}
        {{ form.csrf_token }}
                
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.name.label }}
                        {{ form.name(class_="form-control") }}

                        {% if form.name.errors %}
                        <ul class="errors">
                        {% for error in form.name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.fiscal_number.label }}
                        {{ form.fiscal_number(class_="form-control") }}

                        {% if form.fiscal_number.errors %}
                        <ul class="errors">
                        {% for error in form.first_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.activity_sector.label }}
                        {{ form.activity_sector(class_="form-control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        {{ form.description.label }}
                        {{ form.description(class_="form-control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.phone.label }}
                        {{ form.phone(class_="form-control") }}

                        {% if form.phone.errors %}
                        <ul class="errors">
                        {% for error in form.first_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.mobile.label }}
                        {{ form.mobile(class_="form-control") }}

                        {% if form.mobile.errors %}
                        <ul class="errors">
                        {% for error in form.first_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
            </div>
            {{ form.submit(class_="btn btn-primary") }}
            </form>
            
    {% else %}

        {{ form_action( url_for('form'), "POST") }}
        {{ form.csrf_token }}
            
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.first_name.label }}
                        {{ form.first_name(class_="form-control") }}

                        {% if form.first_name.errors %}
                        <ul class="errors">
                        {% for error in form.first_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.last_name.label }}
                        {{ form.last_name(class_="form-control") }}

                        {% if form.last_name.errors %}
                        <ul class="errors">
                        {% for error in form.last_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.age.label }}
                        {{ form.age(class_="form-control") }}

                        {% if form.age.errors %}
                        <ul class="errors">
                        {% for error in form.age.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                        {% endif%}

                    </div>
                </div>
            </div>
            {{ form.submit(class_="btn btn-primary") }}
        </form>

    {% endif %}
{% endblock %}